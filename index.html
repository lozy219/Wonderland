	<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>rabbit in Wonderland</title>
  <link rel="stylesheet" type="text/css" href="_styles/style.css">
  <link href='https://fonts.googleapis.com/css?family=Laila' rel='stylesheet' type='text/css'>
  <script language="javascript" type="text/javascript" src="_scripts/jquery-2.1.4.min.js"></script>

  <meta name="title" content="rabbit in Wonderland" />
  <meta name="viewport" content="initial-scale=1, width=device-width, maximum-scale=1, minimum-scale=1, user-scalable=no">
</head>
<body>
  <!-- containers here -->
  <div class="wonderland-wrapper">
  	<img id="wonderland-word" src="_images/wonderland-word.png"/>
  	<div id="alice-chapter" class="chapter-wrapper">
  		<div id="alice-1" class="panel-wrapper shown">
  			<h2>This is Alice. She eats everything sweet.</h2>
  			<img src="_images/alice/alice-1.PNG" alt="test"/>
  		</div>
  		<div id="alice-2" class="panel-wrapper">
  			<h2>There’s no better time to eat all the candy you want than on Halloween
			[Alice seen chugging candy as her eyes starts to close]</h2>
  			<img src="_images/alice/alice-2.PNG" alt="test"/>
  		</div>
  		<div id="alice-3" class="panel-wrapper">
  			<h2>She takes a stroll in the nearby woods to wear off the effects of the sugar rush</h2>
  			<img src="_images/alice/alice-3.PNG" alt="test"/>
  		</div>
  	</div>

	<div id="rabbit-chapter" class="chapter-wrapper">
  		<div id="rabbit-1" class="panel-wrapper">
  			<h2>Out of nowhere, she spots a peculiar white rabbit. What should she do?</h2>
  			<div class="sound">tchht</div>
  			<img src="_images/rabbit/rabbit-1.PNG" alt="test"/>
  			<div data-value="rabbit-2" class="choice-button">Help Him</div>
  			<div data-value="rabbit-10" class="choice-button">Follow Him</div> 
  		</div>

	  		<div id="rabbit-2" class="panel-wrapper">
	  			<h2>[Alice cuts his path]
Alice: “Wait! I want to help you!”</h2>
	  			<img src="_images/rabbit/rabbit-2.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-3" class="panel-wrapper">
	  			<h2>WR: “Gniod uoy era tahw, pots!”
[White rabbit backs away in fear]</h2>
	  			<img src="_images/rabbit/rabbit-3.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-4" class="panel-wrapper">
	  			<h2>WR: “Em eerf tonnac ouy, Nueeq eht yb desruc neeb evah I !” </h2>
	  			<img src="_images/rabbit/rabbit-4.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-5" class="panel-wrapper">
	  			<h2>Alice: “Don’t worry Mr Rabbit, I’ll save you!”
Alice couldn’t make out what he was trying to tell her.</h2>
	  			<img src="_images/rabbit/rabbit-5.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-6" class="panel-wrapper">
	  			<h2>[Alice frees the rabbit from the chains]</h2>
	  			<img src="_images/rabbit/rabbit-6.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-7" class="panel-wrapper">
	  			<h2>WR: “Ooooooooon!”
[White rabbit ages rapidly and crumbles into a pile of ashes and chains]</h2>
	  			<img src="_images/rabbit/rabbit-7.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-8" class="panel-wrapper">
	  			<h2>[Alice takes a step back clock face springs open to reveal a hidden passage]</h2>
	  			<img src="_images/rabbit/rabbit-8.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-9" class="panel-wrapper">
	  			<h2>[Alice enters the clock][goto #18]</h2>
	  			<img src="_images/rabbit/rabbit-9.PNG" alt="test"/>
	  			<div data-value="rabbit-15" class="choice-button">Follow Him</div> 
	  		</div>
	  		<div id="rabbit-10" class="panel-wrapper">
	  			<h2>Alice decides to follow the white rabbit quietly as he passed.</h2>
	  			<img src="_images/rabbit/rabbit-10.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-11" class="panel-wrapper">
	  			<h2>But no matter how hard she tried, she couldn't keep up. That mysterious rabbit was causing a disturbance in time-space.</h2>
	  			<img src="_images/rabbit/rabbit-10.PNG" alt="test"/>
	  		</div>
	  		<div id="rabbit-12" class="panel-wrapper">
	  			<h2>Time was slowing down for her. [Alice runs in slow motion]</h2>
	  			<img src="_images/rabbit/rabbit-10.PNG" alt="test"/>
	  		</div>
	</div>
</div>
  	<script>
  		$(document).ready(function() {
	  		$('.panel-wrapper').click(function() {
	  			// Panel shall only be clickable if there isnt any explicit choices in it
	  			// So we first check whether there are any explicit choices
	  			var currentPanelWrapper = $(this);
	  			if (currentPanelWrapper.find('.choice-button').length == 0) {
		  			var currentChapter = currentPanelWrapper.parent();

		  			// Check if it is NOT the last panel in the chapter
		  			if (currentPanelWrapper.next('.panel-wrapper').length > 0) {
			  			var nextPanelWrapper = currentPanelWrapper.next('.panel-wrapper');

			  			currentPanelWrapper.removeClass('shown');
			  			nextPanelWrapper.addClass('shown');
		  			} else { // If it is the last panel in the chapter
		  				alert("end of chapter!");
		  				// Find the next panel in the next chapter
		  				// First check if the current chapter is NOT the last chapter
		  				if (currentChapter.next('.chapter-wrapper').length > 0) {
		  					var nextChapter = currentChapter.next('.chapter-wrapper');
		  					var nextPanelWrapper = nextChapter.children('.panel-wrapper').first();

		  					currentPanelWrapper.removeClass('shown');
		  					nextPanelWrapper.addClass('shown');
		  				} else { // If it is the last chapter and last panel, we can end the story
		  					alert("End of story!");
		  				}
		  			}
	  			}
	  		});

	  		$('.choice-button').click(function() {
	  			var currentPanelWrapper = $(this).parent();
	  			var panelIdOfLink = $(this).data('value');

	  			var nextPanelWrapper = $("#" + panelIdOfLink);

	  			currentPanelWrapper.removeClass('shown');
	  			nextPanelWrapper.addClass('shown');
	  		});
  		});
  	</script>
</body>
</html>